## Информационные активы ##
1. Журналы приема пациентов в Excel (личные данные пациентов, платежи) и медицинские материалы в виде сканов на жестком диске (медицинские карты, анализы)
2. Информация о денежных средствах лежит в формате файла в 1С Бухгалтерия предприятия
3. Файлы учета товарно-материальных ценностей в формате файла в 1C Торговля и склад 
4. Информация о пользователях систем в Active Directory на MS Windows 2022
5. Бесконтрольная информация в Exchange Server

Взаимодействие с пользователями ведется без строгих регламентов, данные собираются сотрудниками и заносятся вручную в excel документы напрямую на диск в открытом виде.
Создается потенциальная опасность сбора лишней информации, неподконтрольного доступа к информации, неподконтрольного распространения информации.

Системе не хватает выстроенных строгих потоков данных, звеньев пред/до-обработки, механизмов соблюдения конфеденциальности, обогащения и фильтрации, контроля доступа.

## Нереализованные требования ##

|#|Нереализованное требование к системе|Архитектурные свойства|Необходимо внедрить|
|-|:-:|:-:|:-:|
|1|Автоматизация работы с потоками данных|Regulatory Compliance, Security, Observability, Maintenance|Необходимо свести ручную работу по сбору и дальнейшему взаимодействию к минимуму с применением подходов privacy by default, data minimization, data linage, выстроив надежный конвейер по работе с данными|
|2|Централизованный механизм согласия с политикой конфиденциальности|Regulatory Compliance|Необходимо завести отдельный функционал по сбору и отзыву личных данных|
|3|Классификация, тегирование, обогащение|Regulatory Compliance, Maintainability|Хаотичные потоки данных нуждаются в "нормализации", обогащении метаинформацией, средствах автоматического контроля доступа к данным|
|4|Логирование и аудирование|Security, Regulatory Compliance, Observability|Необходимо настроить централизованное аудирование по работе с данными и механизмы экспорта в соответствии с требованиями местного регулятора по ФЗ-152|
|5|Защита информации |Security, Regulatory Compliance|Необходимо внедрить шифрование, маскирование, обфускацию данных|
|6|Внутренние тренинги|Regulatory Compliance|Необходимо проведение внутренних тренингов по безопасности среди персонала на предмет рисков и их последствий|


## Инструменты ##

В качестве инструментов планируется использовать:
1. OpenMetadata Platform (Apache2, 7.9k stars), как opensource платформу управления метаданными
2. Локальную LLM для тегирования и помощи в классификации
3. Дополнительный слой определения PII на базе моделей NER (DeepPavlov/Natasha - не пользовался, но нашел, что хорошо работают с русским языком), можно дополнить регулярными выражениями
4. Open Policy Agent в качестве движка правил для сопоставления метатегов и ролей
5. Платформа готовится к переезду в Yandex, архитектором принято решение развернуть KeyCloak для будущей работы с OAuth2 Yandex и привязки RBAC к Open Policy Agent
5. Сервис-оркестратор для управления инструментами выше

Легенда по меткам:
1. PII — персональные данные
2. MED — медицинская тайна
3. PAY — платёжные/чековые данные
4. DOC — документы/сканы (паспорт/договор)
5. INT — внутренние служебные данные
6. PUB — допускаются к внешней коммуникации

Политики:
ENC (шифрование), MASK (маскирование), OBF (обфускация), MIN (минимизация), TOK (токенизация),
PEP — точка принудительного контроля (enforcement), PDP — движок политик.

[DFD-логическая](dfd_logical.puml)
[DFD-физическая](dfd_phisical.puml)
[DFD-защищенная](dfd_secured_logical.puml)
[DFD-защищенная-тегированная](dfd_secured_logical_tagged.puml)